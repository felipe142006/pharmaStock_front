<div
  class="min-h-screen bg-gradient-to-br from-gray-900 via-gray-800 to-gray-700 flex items-center justify-center px-4"
>
  <div class="w-full max-w-md">
    <div class="bg-white/95 backdrop-blur-sm rounded-2xl shadow-xl p-6 sm:p-8">
      <div class="flex items-center gap-3 mb-6">
        <div>
          <h1 class="text-2xl font-bold text-gray-900">Iniciar sesión</h1>
          <p class="text-sm text-gray-500">Administra tus ventas fácilmente</p>
        </div>
      </div>

      <form [formGroup]="loginForm" (ngSubmit)="onSubmit()" class="space-y-4">
        <div>
          <label for="email" class="block text-sm font-medium text-gray-700">
            <i class="fa-regular fa-envelope text-emerald-600 mr-1"></i>Correo
            electrónico
          </label>
          <div class="relative mt-1">
            <input
              id="email"
              type="email"
              formControlName="email"
              autocomplete="username"
              placeholder="tu@correo.com"
              class="w-full rounded-lg border-2 px-4 py-3 pr-10 outline-none transition border-gray-200 focus:border-emerald-500 focus:ring-2 focus:ring-emerald-200"
              [class.border-red-400]="invalid('email')"
            />
          </div>

          @if(invalid('email')) {
          <div class="mt-1 text-xs text-red-600">
            @if(loginForm.get('email')?.errors?.['required']) { El correo
            electrónico es requerido. }
            @if(loginForm.get('email')?.errors?.['email']) { El formato del
            correo no es válido. }
          </div>
          }
        </div>

        <div>
          <label for="password" class="block text-sm font-medium text-gray-700">
            <i class="fa-solid fa-lock text-emerald-600 mr-1"></i> Contraseña
          </label>
          <div class="relative mt-1">
            <input
              id="password"
              [type]="showPassword() ? 'text' : 'password'"
              formControlName="password"
              autocomplete="current-password"
              placeholder="••••••••"
              class="w-full rounded-lg border-2 px-4 py-3 pr-12 outline-none transition border-gray-200 focus:border-emerald-500 focus:ring-2 focus:ring-emerald-200"
              [class.border-red-400]="invalid('password')"
            />

            <!-- Toggle password -->
            <button
              type="button"
              class="absolute inset-y-0 right-2 flex items-center p-2 rounded-md hover:bg-gray-100"
              (click)="togglePassword()"
              [attr.aria-label]="
                showPassword() ? 'Ocultar contraseña' : 'Mostrar contraseña'
              "
            >
              @if(showPassword()){
              <i class="fa-solid fa-eye-slash text-gray-600"></i>
              } @else {
              <i class="fa-solid fa-eye text-gray-500"></i>
              }
            </button>
          </div>

          @if(invalid('password')) {
          <div class="mt-1 text-xs text-red-600">
            @if(loginForm.get('password')?.errors?.['required']) { La contraseña
            es requerida. }
            @if(loginForm.get('password')?.errors?.['minlength']) { Debe tener
            al menos 6 caracteres. }
          </div>
          }
        </div>

        <div class="flex items-center justify-between pt-1">
          <label class="inline-flex items-center gap-2 text-sm text-gray-600">
            <input
              type="checkbox"
              class="rounded border-gray-300 text-emerald-600 focus:ring-emerald-500"
              [checked]="remember()"
              (change)="remember.set($any($event.target).checked)"
            />
            Recordarme
          </label>
        </div>

        <button
          type="submit"
          class="w-full inline-flex items-center justify-center gap-2 rounded-lg bg-emerald-600 px-4 py-3 font-semibold text-white shadow-sm hover:bg-emerald-700 focus:outline-none focus:ring-2 focus:ring-emerald-300 disabled:opacity-60 disabled:cursor-not-allowed"
          [disabled]="loginForm.invalid || loading() || activeButton()"
        >
          @if(!loading()){
          <i class="fa-solid fa-right-to-bracket"></i>
          Iniciar Sesión } @else {
          <i class="fa-solid fa-spinner fa-spin"></i>
          Procesando... }
        </button>
      </form>

      <app-footer></app-footer>
    </div>
  </div>
</div>
